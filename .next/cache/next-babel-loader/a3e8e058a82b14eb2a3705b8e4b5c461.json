{"ast":null,"code":"import { Api } from \"./api\";\nimport { getGeneralApiProblem } from \"./api/api-problem\";\nexport class UserApi extends Api {\n  convertUser(raw) {\n    return {\n      id: raw.id,\n      firstName: raw.firstName,\n      lastName: raw.lastName,\n      email: raw.email,\n      admin: raw.admin,\n      active: raw.active\n    };\n  }\n\n  async getUserById(token, id) {\n    this.apisauce.setHeader(\"Authorization\", `Bearer ${token}`);\n    const response = await this.apisauce.get(`/api/v1/users/${id}`);\n\n    if (!response.ok) {\n      const problem = getGeneralApiProblem(response);\n      if (problem) return problem;\n    }\n\n    try {\n      const user = response.data.data;\n      return {\n        kind: \"ok\",\n        user: user\n      };\n    } catch {\n      return {\n        kind: \"bad-data\"\n      };\n    }\n  }\n\n  async getUsers(token) {\n    this.apisauce.setHeader(\"Authorization\", `Bearer ${token}`);\n    const response = await this.apisauce.get(\"/api/v1/users\");\n\n    if (!response.ok) {\n      const problem = getGeneralApiProblem(response);\n      if (problem) return problem;\n    }\n\n    try {\n      const rawUsers = response.data;\n      const resultUsers = rawUsers.map(this.convertUser);\n      return {\n        kind: \"ok\",\n        users: resultUsers\n      };\n    } catch {\n      return {\n        kind: \"bad-data\"\n      };\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}